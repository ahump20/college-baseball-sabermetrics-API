name = "college-baseball-mcp"
main = "src/mcp/standalone-worker.ts"
compatibility_date = "2024-01-01"

[observability]
enabled = true

# KV Namespaces
# Run the deploy-mcp.sh script to automatically create these namespaces
# Or create manually with:
#   wrangler kv:namespace create RATE_LIMIT_KV
#   wrangler kv:namespace create TEAM_STATS_KV
#   wrangler kv:namespace create BSI_CACHE
# Then uncomment and paste the IDs below:

# [[kv_namespaces]]
# binding = "RATE_LIMIT_KV"
# id = "YOUR_RATE_LIMIT_KV_ID_HERE"

# [[kv_namespaces]]
# binding = "TEAM_STATS_KV"
# id = "YOUR_TEAM_STATS_KV_ID_HERE"

# [[kv_namespaces]]
# binding = "BSI_CACHE"
# id = "YOUR_BSI_CACHE_KV_ID_HERE"

# Secrets (set via: wrangler secret put BSI_API_KEY)
# BSI_API_KEY - API key for authentication (leave unset for no auth)

# Custom domain configuration for Blaze Sports Intel
routes = [
  { pattern = "sabermetrics.blazesportsintel.com/*", zone_name = "blazesportsintel.com" }
]

# Custom domains configuration
[[custom_domains]]
hostname = "sabermetrics.blazesportsintel.com"

# Cron triggers for automated data scraping
# Run every 6 hours to refresh team stats (at 00:00, 06:00, 12:00, 18:00 UTC)
[triggers]
crons = ["0 */6 * * *"]
